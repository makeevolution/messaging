---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
instead of 

 ^KKaAyld9

API ^XECgMqLJ

business logic ^ASXXMrGa

database ^edka6S3l

database ^QYsSh0CD

API only does validation of request(s), persist the request in db
and let a background worker handle business logic asynchronously!
 ^nVEWhfvX

API ^Xnxx61Q2

business logic ^Cg5ahF00

In our case at work, this means we could've made the
request to execute on Jenkins purely using the Scheduler,
instead of trying to do it in the API request (i.e. no need
to make the Jenkins API call to queue tce there)! This makes
response time much faster for 100 test cases in a suite
request.

In the pizza example, we validate request, update the db with the
order and also, save the OrderSubmittedEvent to the outbox, for 
background worker to publish to messaging bus



















 ^kDaVEkqb

%%
## Drawing
```compressed-json
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
```
%%